var e={version:"0.0.0",set locale(e){this.currentLocale=e,this.dispatchEvent()},get locale(){return this.currentLocale},currentLocale:"",messages:{},localChange:new Event("locale-change"),start:function(){var e=this;window.Alpine.onComponentInitialized(function(e){e.$el.addEventListener("locale-change",function(){e.$el.__x.updateElements(e.$el)})}),window.Alpine.addMagicProperty("locale",function(){return function(n){if(!n)return e.locale;e.checkLocale(n),e.locale=n}}),window.Alpine.addMagicProperty("t",function(n){return function(n,t){var o=n.split(".").reduce(function(e,n){return e[n]},e.messages[e.locale]);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var c=t[i],l=new RegExp("{s*("+i+")s*}","g");o=o.replaceAll(l,c)}return o}})},create:function(e,n){this.locale=e,this.messages=n},dispatchEvent:function(){var e=this;document.querySelectorAll("[x-data]").forEach(function(n){n.dispatchEvent(e.localChange)})},checkLocale:function(e){if(!Object.keys(this.messages).includes(e))throw new Error("Alpine I18n: The locale "+e+" does not exist.")}},n=window.deferLoadingAlpine||function(e){return e()};window.AlpineI18n=e,window.deferLoadingAlpine=function(e){window.AlpineI18n.start(),n(e)},module.exports=e;
//# sourceMappingURL=index.js.map
